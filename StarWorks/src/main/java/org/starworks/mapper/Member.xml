<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="org.starworks.mapper.MemberMapper">
	<insert id = "insertEmp">
		insert into emp(
			e_no, id, pass, name, phone_number, signupcheck
		) values(
			#{e_no}, #{id}, #{pass}, #{name}, #{phone_number}, 0
		)
	</insert>
	
	<select id = "listEmp" resultType="org.starworks.domain.EmpVO">
		select * from emp
		where d_no = #{d_no}
	</select>
	<!-- 
	<select id = "checkId" parameterType = "String" resultType="int">
		select count(*) from emp
		where id = #{id}
	</select>
	
	<select id = "listSignUpApprove" resultType="Emp">
		select * from emp
		where signupcheck = 0 
	</select>
	
	
	<update id = "updateEmp" parameterType = "Emp">
		update emp set hiredate = #{hiredate}, d_no = #{d_no}, grade = #{grade}, signupcheck = #{signupcheck} 
		where e_no = #{e_no}	
	</update>
	
	<insert id = "checkIn" parameterType = "int">
		insert into attendance(
			a_no, e_no, a_date, a_checkin
		) values(
			a_no_seq.nextval, #{e_no}, to_date(sysdate,'YYYY-MM-DD'), to_char(sysdate,'HH24:MI')
		)
	</insert>
	
 	<update id = "checkOut" parameterType = "int">
		update attendance set a_checkout = to_char(sysdate,'HH24:MI')
		where e_no = #{e_no} and a_date = to_date(sysdate,'YYYY-MM-DD')
	</update>
	 -->
</mapper>
